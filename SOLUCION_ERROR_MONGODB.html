<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Soluci√≥n Error MongoDB - Monkey Food</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            color: #333;
        }
        .container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        h1 {
            color: #c0392b;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.2em;
        }
        .error {
            background: #ffebee;
            border-left: 5px solid #f44336;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }
        .solution {
            background: #e8f5e8;
            border-left: 5px solid #4caf50;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }
        .step {
            background: #f8f9fa;
            border-left: 5px solid #007bff;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }
        .step h3 {
            color: #007bff;
            margin-top: 0;
            font-size: 1.3em;
        }
        .code {
            background: #f1f3f4;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
            overflow-x: auto;
        }
        .highlight {
            background: #fff3cd;
            padding: 3px 8px;
            border-radius: 4px;
            font-weight: bold;
            color: #856404;
        }
        .warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }
        .success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }
        .emoji {
            font-size: 1.2em;
            margin-right: 8px;
        }
        ol, ul {
            padding-left: 20px;
        }
        li {
            margin: 8px 0;
            font-size: 1.05em;
        }
        img {
            max-width: 100%;
            border-radius: 8px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üö® Soluci√≥n Error MongoDB</h1>
        
        <div class="error">
            <h2><span class="emoji">‚ùå</span> Error Detectado</h2>
            <div class="code">Error al conectar a MongoDB: URI must include hostname, domain name, and tld</div>
            <p><strong>Causa:</strong> Falta configurar la variable de entorno <code>MONGODB_URI</code> en Render.</p>
        </div>

        <div class="solution">
            <h2><span class="emoji">‚úÖ</span> Soluci√≥n R√°pida</h2>
            <p>Necesitas a√±adir una base de datos MongoDB y configurar la variable de entorno en Render.</p>
        </div>

        <div class="step">
            <h3><span class="emoji">1Ô∏è‚É£</span> A√±adir Base de Datos MongoDB</h3>
            <ol>
                <li>Ve a tu dashboard de Render: <a href="https://dashboard.render.com" target="_blank">dashboard.render.com</a></li>
                <li>En tu proyecto, haz clic en <span class="highlight">"New +"</span></li>
                <li>Selecciona <span class="highlight">"Database"</span></li>
                <li>Elige <span class="highlight">"MongoDB"</span></li>
                <li>Configura:
                    <ul>
                        <li><strong>Name:</strong> monkey-food-db</li>
                        <li><strong>Database User:</strong> admin</li>
                        <li><strong>Region:</strong> Oregon (US West) - recomendado</li>
                        <li><strong>Plan:</strong> Free (para pruebas)</li>
                    </ul>
                </li>
                <li>Haz clic en <span class="highlight">"Create Database"</span></li>
            </ol>
        </div>

        <div class="step">
            <h3><span class="emoji">2Ô∏è‚É£</span> Obtener la URI de Conexi√≥n</h3>
            <ol>
                <li>Una vez creada la base de datos, ve a la pesta√±a <span class="highlight">"Connect"</span></li>
                <li>Copia la <span class="highlight">"External Connection String"</span></li>
                <li>Deber√≠a verse as√≠:</li>
                <div class="code">mongodb://admin:PASSWORD@dpg-xxxxx-a.oregon-postgres.render.com/monkey_food_db</div>
            </ol>
        </div>

        <div class="step">
            <h3><span class="emoji">3Ô∏è‚É£</span> Configurar Variables de Entorno</h3>
            <ol>
                <li>Ve a tu servicio web (tu aplicaci√≥n)</li>
                <li>Haz clic en <span class="highlight">"Environment"</span> en el men√∫ lateral</li>
                <li>A√±ade estas variables:</li>
            </ol>
            
            <div class="code">
MONGODB_URI=mongodb://admin:TU_PASSWORD@dpg-xxxxx-a.oregon-postgres.render.com/monkey_food_db
NODE_ENV=production
PORT=10000
JWT_SECRET=tu-clave-secreta-muy-segura-2025
ADMIN_PASSWORD=AdminMF2025!
EMAIL_USER=tu-email@gmail.com
EMAIL_PASS=tu-app-password-gmail
EMAIL_FROM=noreply@monkeyfood.com
            </div>
            
            <ol start="4">
                <li>Haz clic en <span class="highlight">"Save Changes"</span></li>
            </ol>
        </div>

        <div class="step">
            <h3><span class="emoji">4Ô∏è‚É£</span> Redesplegar la Aplicaci√≥n</h3>
            <ol>
                <li>Ve a la pesta√±a <span class="highlight">"Deploys"</span></li>
                <li>Haz clic en <span class="highlight">"Manual Deploy"</span></li>
                <li>Selecciona <span class="highlight">"Deploy latest commit"</span></li>
                <li>Espera a que termine el despliegue ‚è≥</li>
            </ol>
        </div>

        <div class="warning">
            <h3><span class="emoji">‚ö†Ô∏è</span> Configuraci√≥n de Email (Opcional)</h3>
            <p>Para que funcionen las notificaciones por email:</p>
            <ol>
                <li>Ve a tu <a href="https://myaccount.google.com/security" target="_blank">cuenta de Google</a></li>
                <li>Activa la verificaci√≥n en 2 pasos</li>
                <li>Ve a "Contrase√±as de aplicaciones"</li>
                <li>Genera una contrase√±a para "Correo"</li>
                <li>Usa esa contrase√±a en <code>EMAIL_PASS</code></li>
            </ol>
        </div>

        <div class="success">
            <h3><span class="emoji">üéâ</span> ¬°Verificar que Funciona!</h3>
            <p>Despu√©s del redespliegue, deber√≠as ver:</p>
            <div class="code">Servidor corriendo en el puerto 10000<br>‚úÖ Conectado a MongoDB exitosamente</div>
            <p>Tu aplicaci√≥n estar√° disponible en: <strong>https://tu-app.onrender.com</strong></p>
        </div>

        <div class="step">
            <h3><span class="emoji">üîß</span> Pr√≥ximos Pasos</h3>
            <ol>
                <li>Accede a tu aplicaci√≥n: <code>https://tu-app.onrender.com</code></li>
                <li>Ve al panel de admin: <code>https://tu-app.onrender.com/admin.html</code></li>
                <li>Usa la contrase√±a: <span class="highlight">AdminMF2025!</span></li>
                <li>Haz clic en <span class="highlight">"Inicializar Premios"</span></li>
                <li>¬°Tu concurso estar√° listo! üéØ</li>
            </ol>
        </div>

        <div style="text-align: center; margin-top: 30px; color: #666;">
            <p>üêí <strong>Monkey Food Competition 2025</strong></p>
            <p>¬°Problema resuelto! Tu aplicaci√≥n ya deber√≠a funcionar correctamente.</p>
        </div>
    </div>
</body>
</html>